/**
 * Definition for a binary tree node.
 * type TreeNode struct {
 *     Val int
 *     Left *TreeNode
 *     Right *TreeNode
 * }
 */
func maxPathSum(root *TreeNode) int {
    maxSum := int(math.Inf(-1))
    var traversal func(curr *TreeNode) int
    traversal = func(curr *TreeNode) int{
        if curr == nil{
            return 0
        }

        maxLeft := maxVal(0,traversal(curr.Left))
        maxRight := maxVal(0,traversal(curr.Right))

        currMax := curr.Val + maxLeft + maxRight
        maxSum = maxVal(currMax, maxSum)
        return curr.Val + maxVal(maxLeft,maxRight)
    }
    traversal(root)
    return maxSum
}

func maxVal(a,b int) int{
    max := a
    if b > a {
        max = b
    }
    return max
}
